{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      selectedOptions: [],\n      // 存储用户选择的选项\n      vacationOptions: []\n    };\n  },\n  mounted() {\n    this.fetchHotelNames();\n  },\n  methods: {\n    fetchHotelNames() {\n      this.$axios.get('http://localhost:5000/gethotel').then(response => {\n        this.vacationOptions = response.data.map(hotel => ({\n          ...hotel,\n          rating: 0 // Default rating value\n        }));\n      }).catch(error => {\n        console.error('Error fetching hotel names:', error);\n      });\n    },\n    submitSelection() {\n      // 将勾选框选中的内容发送到后端\n      const ratedOptions = this.vacationOptions.filter(option => option.rating > 0);\n      this.$axios.post('http://localhost:5000/saveSelection', {\n        ratedOptions: ratedOptions\n      }, {\n        withCredentials: true\n      }).then(response => {\n        console.log('Selection saved:', response);\n        // 跳转到下一页\n        this.$router.push({\n          path: '/rate',\n          query: {\n            rate: JSON.stringify(response.data)\n          }\n        });\n      }).catch(error => {\n        console.error('Error saving selection:', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","selectedOptions","vacationOptions","mounted","fetchHotelNames","methods","$axios","get","then","response","map","hotel","rating","catch","error","console","submitSelection","ratedOptions","filter","option","post","withCredentials","log","$router","push","path","query","rate","JSON","stringify"],"sources":["src/components/UserSelection.vue"],"sourcesContent":["// 复选框有字\r\n<template>\r\n    <div class=\"border-box\">\r\n      <div class=\"select-title\">Based on your ideal vacation you would be most interested in:</div>\r\n      <div class=\"image-grid\">\r\n        <div v-for=\"(option, index) in vacationOptions\" :key=\"index\" class=\"option-item\">\r\n          <img :src=\"option.imageUrl\" alt=\"Vacation Image\" class=\"vacation-image\">\r\n          <div>{{ option.name }}</div>\r\n          <!-- Rating input for each hotel -->\r\n          <el-rate v-model=\"option.rating\" :max=\"5\"></el-rate>\r\n        </div>\r\n      </div>\r\n      <button class=\"confirm-button\" @click=\"submitSelection\">Please confirm your selection</button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        selectedOptions: [], // 存储用户选择的选项\r\n      vacationOptions: []\r\n    };\r\n  },\r\n  mounted(){\r\n    this.fetchHotelNames();\r\n  },\r\n  methods: {\r\n    fetchHotelNames(){\r\n      this.$axios.get('http://localhost:5000/gethotel')\r\n      .then(response => {\r\n        this.vacationOptions = response.data.map(hotel => ({\r\n            ...hotel,\r\n            rating: 0 // Default rating value\r\n          }));\r\n      })\r\n      .catch(error => {\r\n            console.error('Error fetching hotel names:', error);\r\n          });\r\n    },\r\n    submitSelection() {\r\n      // 将勾选框选中的内容发送到后端\r\n      const ratedOptions = this.vacationOptions.filter(option => option.rating > 0);\r\n      this.$axios.post('http://localhost:5000/saveSelection', {\r\n        ratedOptions: ratedOptions\r\n      }, { withCredentials: true })\r\n      .then(response => {\r\n        console.log('Selection saved:', response);\r\n        // 跳转到下一页\r\n        this.$router.push({ path: '/rate', \r\n        query: { rate: JSON.stringify(response.data) } });\r\n      })\r\n      .catch(error => {\r\n        console.error('Error saving selection:', error);\r\n      });\r\n    }\r\n  }\r\n};\r\n  </script>\r\n  \r\n  <style>\r\n  .border-box {\r\n    border: 1px solid #000;\r\n    padding: 20px;\r\n    border-radius: 5px;\r\n    width: 800px;\r\n    height: 600px;\r\n    margin: 120px auto;\r\n    padding: 20px;\r\n    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .select-title {\r\n    font-family: 'Times New Roman', Arial, sans-serif;\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n    margin-bottom: 40px;\r\n    margin-top: 20px;\r\n    text-align: center;\r\n  }\r\n  \r\n  .image-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    gap: 20px;\r\n    margin-top: 20px;\r\n  }\r\n  \r\n  .image-container {\r\n    position: relative;\r\n    text-align: center;\r\n  }\r\n  \r\n  .vacation-image {\r\n    width: 100%;\r\n    height: auto;\r\n    border-radius: 5px;\r\n  }\r\n  \r\n  .checkbox {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    transform: scale(2.5);\r\n  }\r\n  \r\n  .confirm-button {\r\n    margin-top: 20px;\r\n    padding: 10px 20px;\r\n    background-color: #fbfefc;\r\n    color: rgb(0, 0, 0);\r\n    border-radius: 5px;\r\n    font-size: 18px;\r\n    cursor: pointer;\r\n    float: right;\r\n  }\r\n  \r\n  .confirm-button:hover {\r\n    background-color: #808480;\r\n  }\r\n  </style>\r\n  "],"mappings":";AAiBA;EACAA,KAAA;IACA;MACAC,eAAA;MAAA;MACAC,eAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,eAAA;EACA;EACAC,OAAA;IACAD,gBAAA;MACA,KAAAE,MAAA,CAAAC,GAAA,mCACAC,IAAA,CAAAC,QAAA;QACA,KAAAP,eAAA,GAAAO,QAAA,CAAAT,IAAA,CAAAU,GAAA,CAAAC,KAAA;UACA,GAAAA,KAAA;UACAC,MAAA;QACA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,gCAAAA,KAAA;MACA;IACA;IACAE,gBAAA;MACA;MACA,MAAAC,YAAA,QAAAf,eAAA,CAAAgB,MAAA,CAAAC,MAAA,IAAAA,MAAA,CAAAP,MAAA;MACA,KAAAN,MAAA,CAAAc,IAAA;QACAH,YAAA,EAAAA;MACA;QAAAI,eAAA;MAAA,GACAb,IAAA,CAAAC,QAAA;QACAM,OAAA,CAAAO,GAAA,qBAAAb,QAAA;QACA;QACA,KAAAc,OAAA,CAAAC,IAAA;UAAAC,IAAA;UACAC,KAAA;YAAAC,IAAA,EAAAC,IAAA,CAAAC,SAAA,CAAApB,QAAA,CAAAT,IAAA;UAAA;QAAA;MACA,GACAa,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,4BAAAA,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}