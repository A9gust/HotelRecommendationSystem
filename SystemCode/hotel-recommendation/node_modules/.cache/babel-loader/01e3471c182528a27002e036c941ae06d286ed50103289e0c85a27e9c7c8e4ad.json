{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      selectedOption: '',\n      // User-selected option\n      recommendations: [\n        // // Static hotel information\n        // {\n        //   name: 'Hotel Sunshine',\n        //   imageUrl: 'http://localhost:5000/static/city-hotel.png',\n        //   details: 'A beautiful hotel located near the beach.',\n        //   rating: 4\n        // },\n        // {\n        //   name: 'Mountain Retreat',\n        //   imageUrl: 'http://localhost:5000/static/city-hotel.png',\n        //   details: 'A quiet retreat in the mountains.',\n        //   rating: 5\n        // },\n        // {\n        //   name: 'Mountain Retreat',\n        //   imageUrl: 'http://localhost:5000/static/city-hotel.png',\n        //   details: 'A quiet retreat in the mountains.',\n        //   rating: 5\n        // },\n        // {\n        //   name: 'Mountain Retreat',\n        //   imageUrl: 'http://localhost:5000/static/city-hotel.png',\n        //   details: 'A quiet retreat in the mountains.',\n        //   rating: 5\n        // }\n        // // Add more static hotels here if needed\n      ]\n    };\n  },\n  mounted() {\n    this.fetchHotelNames();\n  },\n  methods: {\n    fetchHotelNames() {\n      this.$axios.get('http://localhost:5000/getrateitems').then(response => {\n        this.recommendations = response.data.map(hotel => ({\n          ...hotel,\n          rating: 0 // Default rating value\n        }));\n      }).catch(error => {\n        console.error('Error fetching hotel names:', error);\n      });\n    },\n    submitRatings() {\n      const ratedOptions = this.recommendations.filter(option => option.rating > 0).map(option => ({\n        name: option.name,\n        rating: option.rating\n      }));\n      // POst to backend\n      this.$axios.post('http://localhost:5000/saveRates', {\n        ratedOptions: ratedOptions\n      }, {\n        withCredentials: true\n      }).then(response => {\n        console.log('Ratings saved:', response);\n        // Turn to next page\n        this.$router.push({\n          path: '/recommend-result',\n          query: {\n            rate: JSON.stringify(response.data)\n          }\n        });\n      }).catch(error => {\n        console.error('Error saving selection:', error);\n      });\n    },\n    goToNextPage() {\n      this.$router.push('/finalpage'); // Navigate to the next page\n    }\n  }\n};","map":{"version":3,"names":["data","selectedOption","recommendations","mounted","fetchHotelNames","methods","$axios","get","then","response","map","hotel","rating","catch","error","console","submitRatings","ratedOptions","filter","option","name","post","withCredentials","log","$router","push","path","query","rate","JSON","stringify","goToNextPage"],"sources":["src/components/UserRate.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"title-container\">\r\n      <h3 class=\"title-text\">For the selection of <span>{{ selectedOption }}</span></h3>\r\n    </div>\r\n  <div class=\"border-box\">\r\n    <div class=\"hotel-list\">\r\n      <div v-for=\"(option, index) in recommendations\" :key=\"index\" class=\"rate-item\">\r\n        <img :src=\"option.imageUrl\" alt=\"Hotel Image\" class=\"hotel-image\">\r\n        <div>\r\n          <h4>{{ option.name }}</h4>\r\n          <p>{{ option.details }}</p>\r\n          <el-rate v-model=\"option.rating\" :max=\"5\"></el-rate>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <button class=\"next-button\" @click=\"submitRatings\">Next</button>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedOption: '', // User-selected option\r\n      recommendations: [\r\n        // // Static hotel information\r\n        // {\r\n        //   name: 'Hotel Sunshine',\r\n        //   imageUrl: 'http://localhost:5000/static/city-hotel.png',\r\n        //   details: 'A beautiful hotel located near the beach.',\r\n        //   rating: 4\r\n        // },\r\n        // {\r\n        //   name: 'Mountain Retreat',\r\n        //   imageUrl: 'http://localhost:5000/static/city-hotel.png',\r\n        //   details: 'A quiet retreat in the mountains.',\r\n        //   rating: 5\r\n        // },\r\n        // {\r\n        //   name: 'Mountain Retreat',\r\n        //   imageUrl: 'http://localhost:5000/static/city-hotel.png',\r\n        //   details: 'A quiet retreat in the mountains.',\r\n        //   rating: 5\r\n        // },\r\n        // {\r\n        //   name: 'Mountain Retreat',\r\n        //   imageUrl: 'http://localhost:5000/static/city-hotel.png',\r\n        //   details: 'A quiet retreat in the mountains.',\r\n        //   rating: 5\r\n        // }\r\n        // // Add more static hotels here if needed\r\n      ]\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchHotelNames();\r\n  },\r\n  methods: {\r\n    fetchHotelNames(){\r\n      this.$axios.get('http://localhost:5000/getrateitems')\r\n      .then(response => {\r\n        this.recommendations = response.data.map(hotel => ({\r\n            ...hotel,\r\n            rating: 0 // Default rating value\r\n          }));\r\n      })\r\n      .catch(error => {\r\n            console.error('Error fetching hotel names:', error);\r\n          });\r\n    },\r\n    submitRatings() {\r\n      const ratedOptions = this.recommendations.filter(option => option.rating > 0)\r\n      .map(option => ({\r\n      name: option.name,\r\n      rating: option.rating\r\n      }));\r\n      // POst to backend\r\n      this.$axios.post('http://localhost:5000/saveRates', {\r\n        ratedOptions: ratedOptions\r\n      }, { withCredentials: true })\r\n      .then(response => {\r\n        console.log('Ratings saved:', response);\r\n        // Turn to next page\r\n        this.$router.push({ path: '/recommend-result', \r\n        query: { rate: JSON.stringify(response.data) } });\r\n      })\r\n      .catch(error => {\r\n        console.error('Error saving selection:', error);\r\n      });\r\n    },\r\n    goToNextPage() {\r\n      this.$router.push('/finalpage'); // Navigate to the next page\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml, body {\r\n  height: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  background-color: #e3effa;\r\n  min-height: 100vh;\r\n  overflow-x: hidden; \r\n}\r\n\r\n.container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 50px auto;\r\n  width: 100%;\r\n  max-width: 100%; \r\n  align-items: center;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  border: none; \r\n  box-shadow: none; \r\n}\r\n\r\n.border-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  width: 100%;\r\n  padding: 20px;\r\n  background-color: transparent;\r\n  border: 2px solid transparent;\r\n  border-radius: 10px;\r\n}\r\n\r\n.hotel-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr); /* 每行显示两个卡片 */\r\n  gap: 20px; /* 卡片之间的间距 */\r\n  width: 100%; \r\n}\r\n\r\n.rate-item {\r\n  width: 320px; /* 固定卡片宽度 */\r\n  max-width: none; /* 取消最大宽度限制 */\r\n  text-align: center;\r\n  background-color: #ffffff;\r\n  padding: 20px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  margin: 10px auto;\r\n}\r\n\r\n\r\n.hotel-image {\r\n  width: 100%; /* 确保图片自适应容器宽度 */\r\n  height: auto;\r\n  border: none; /* 确保没有边框 */\r\n  box-shadow: none; /* 移除阴影 */\r\n  border-radius: 8px;\r\n}\r\n\r\n\r\n.next-button {\r\n  margin-top: 20px;\r\n  padding: 10px 20px;\r\n  background-color: #007bff;\r\n  color: #ffffff;\r\n  border: none;\r\n  border-radius: 10px;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  display: block;\r\n  width: auto;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.next-button:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n\r\n</style>\r\n"],"mappings":";AAuBA;EACAA,KAAA;IACA;MACAC,cAAA;MAAA;MACAC,eAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAAA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,eAAA;EACA;EACAC,OAAA;IACAD,gBAAA;MACA,KAAAE,MAAA,CAAAC,GAAA,uCACAC,IAAA,CAAAC,QAAA;QACA,KAAAP,eAAA,GAAAO,QAAA,CAAAT,IAAA,CAAAU,GAAA,CAAAC,KAAA;UACA,GAAAA,KAAA;UACAC,MAAA;QACA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,gCAAAA,KAAA;MACA;IACA;IACAE,cAAA;MACA,MAAAC,YAAA,QAAAf,eAAA,CAAAgB,MAAA,CAAAC,MAAA,IAAAA,MAAA,CAAAP,MAAA,MACAF,GAAA,CAAAS,MAAA;QACAC,IAAA,EAAAD,MAAA,CAAAC,IAAA;QACAR,MAAA,EAAAO,MAAA,CAAAP;MACA;MACA;MACA,KAAAN,MAAA,CAAAe,IAAA;QACAJ,YAAA,EAAAA;MACA;QAAAK,eAAA;MAAA,GACAd,IAAA,CAAAC,QAAA;QACAM,OAAA,CAAAQ,GAAA,mBAAAd,QAAA;QACA;QACA,KAAAe,OAAA,CAAAC,IAAA;UAAAC,IAAA;UACAC,KAAA;YAAAC,IAAA,EAAAC,IAAA,CAAAC,SAAA,CAAArB,QAAA,CAAAT,IAAA;UAAA;QAAA;MACA,GACAa,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,4BAAAA,KAAA;MACA;IACA;IACAiB,aAAA;MACA,KAAAP,OAAA,CAAAC,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}